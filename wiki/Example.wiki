#summary some example of usage.
#labels Featured

= Introduction =

Here you'll find some small code snippet to illustrate the use of redtamarin libraries.

The first goal of redtamarin is to allow people to use C functions from !ActionScript

if in C you got
{{{
#include <stdlib.h>

char *home = getenv("HOME");

}}}

then in !ActionScript you can do
{{{
import C.stdlib.*;

var home:String = getenv("HOME");

}}}


for people coming from C/C++, they should find the same function
they are used to (they can also check [http://blogs.adobe.com/kiwi/2006/05/as3_language_101_for_cc_coders_1.html AS3 language 101 for C/C++ coders]).

for people coming from AS3, like me, they can have more system access
and have more fun.

The second goal of redtamarin is to add native objects like pipes, sockets, etc.
(more to come about that later)


== stdlib ==

atexit - Register a callback function for program exit.
{{{
import C.stdlib.*;

var f1:Function = function():void
{
    trace( "f1" );
}

var f2:Function = function():void
{
    trace( "f2" );
}

atexit( f1 );
atexit( f2 );

exit(0);
}}}

system - Execute an external command.
{{{
import C.stdlib.system;
import avmplus.File;

var filename:String = "list.txt";

system( "ls > " + filename );

if( File.exists( filename ) )
    {
    trace( "-- " + filename + " --" );
    trace( File.read( filename ) );
    }
else
    {
    trace( filename + " not found" );
    }
}}}

setenv - Set an environment variable.
getenv - Retrieve an environment variable.
{{{
import C.stdlib.*;

trace( "FOOBAR: " + getenv("FOOBAR") );
setenv( "FOOBAR", "/foo/bar" );
trace( "FOOBAR: " + getenv("FOOBAR") );
}}}


== unistd ==

sleep - Suspend execution for an interval of time.
{{{
import C.unistd.sleep;

trace( "sleep 5sec..." );
sleep( 5 ); //in seconds
trace( "...and wake up" );
}}}


getcwd - Get the pathname of the current working directory.
{{{
import C.unistd.getcwd;

trace( "current working directory: " + getcwd() );
}}}